(this["webpackJsonpr6s-matches-parser"]=this["webpackJsonpr6s-matches-parser"]||[]).push([[0],{220:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),c=n.n(i),o=n(103),s=n(58),l=n(230),u=n(23),d=n(119),j=n(35),h=n.n(j);var m,b,g,f,O,p=function(e){for(var t=[],n=function(e){var t,n=new RegExp('data-highlightingclass="([^"]+)',"g"),a=e.matchAll(n),r=[],i={},c=Object(d.a)(a);try{for(c.s();!(t=c.n()).done;){var o=t.value;i.leftTeam?(i.rightTeam=o[1],r.push(i),i={}):i.leftTeam=o[1]}}catch(s){c.e(s)}finally{c.f()}return r}(e),a=function(e){var t=new RegExp("([A-Za-z]{3,}) ([0-9]{1,2}), ([0-9]{4}) - ([0-9:0-9]{4,5})","g");return Array.from(e.matchAll(t)).map((function(e){return h.a.utc(e[0],"MMMM DD YYYY HH:mm")}))}(e),r=function(e){var t=new RegExp('<a href="/rainbowsix/.*" title=".*">(.*)</a>&#160;',"g");return Array.from(e.matchAll(t)).map((function(e){return e[1]}))}(e),i=0;i<n.length;i++)t[i]=Object(u.a)(Object(u.a)({},n[i]),{},{date:a[i],dateStr:a[i].format("MMM DD YYYY HH:mm"),league:r[i]});return t.sort((function(e,t){return e.date.unix()-t.date.unix()})),t},x=n(19),y=n(77),v=n(223),w=n(224),S=n(226),M=n(61),T=n(62),I=T.a.div(m||(m=Object(M.a)(["\n    display: flex;\n    width: 150px;\n    height: 80px;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    overflow: hidden;\n    background: rgb(195, 224, 229);\n\n    @media screen and (max-width: 768px) {\n        width: 250px;\n        height: 40px;\n    }\n"]))),k=T.a.div(b||(b=Object(M.a)(["\n    display: flex;\n    width: 150px;\n    height: 80px;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    background: rgb(195, 224, 229);\n\n    @media screen and (max-width: 768px) {\n        width: 250px;\n        height: 40px;\n    }\n"]))),C=T.a.div(g||(g=Object(M.a)(['\n    position: absolute;\n    width: 30px;\n    height: 200px;\n    transform: rotate(45deg);\n    border: 1px solid white;\n    background: rgb(55, 74, 103);\n\n    &:before {\n        position: absolute;\n        top: 45%;\n        left: 65%;\n        transform: rotate(-45deg) translate(-50%, -50%);\n        content: "VS";\n        font-size: 0.9rem;\n        color: white;\n    }\n\n    @media screen and (max-width: 768px) {\n        transform: rotate(90deg);\n        &:before {\n            top: 50%;\n            left: 50%;\n            transform: rotate(-90deg) translate(50%, -50%);\n        }\n    }\n']))),F=T.a.div(f||(f=Object(M.a)(["\n    display: flex;\n    width: 300px;\n    height: 100px;\n    padding: 5px;\n    align-items: ",";\n    text-align: ",";\n    justify-content: center;\n    font-size: 1.1rem;\n    color: rgb(255, 255, 255);\n    background: rgba(14, 17, 22, 0.9);\n\n    @media screen and (max-width: 768px) {\n        height: 70px;\n    }\n"])),(function(e){return"left"===e.side?"flex-start":"flex-end"}),(function(e){return"left"===e.side?"left":"right"})),A=T.a.div(O||(O=Object(M.a)(["\n    display: flex;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 1rem;\n    overflow: hidden;\n\n    @media screen and (max-width: 768px) {\n        flex-direction: column;\n    }\n"]))),Y=n(7),U=function(e){var t=e.leftTeam,n=e.rightTeam,a=e.league,r=e.dateStr;return Object(Y.jsxs)(A,{children:[Object(Y.jsx)(k,{children:r}),Object(Y.jsx)(F,{side:"left",children:t}),Object(Y.jsx)(C,{}),Object(Y.jsx)(F,{side:"right",children:n}),Object(Y.jsx)(I,{children:a})]})},D=Object(a.createContext)([]);var H=function(e){var t=e.filterOptions,n=e.leftTeam,a=e.rightTeam,r=e.league,i=e.date,c=!0;return t.byTeam.length&&(c=!(!t.byTeam.includes(n)&&!t.byTeam.includes(a))),t.byLeague.length&&(c=!!t.byLeague.includes(r)&&c),t.onlyOngoingMatches&&(c=!!i.isSameOrBefore(h()())&&c),t.onlyUpcomingMatches&&(c=!!i.isSameOrAfter(h()())&&c),c};var L=function(e){return Array.from(new Set(e))},z=n(229),E=n(107),J=n(225),R=n(70),B=n(227),N=n(228),P=function(e){var t=e.leagues,n=e.teams,a=e.setFilterOptions,r=e.filterOptions,i=J.a.useForm(),c=Object(s.a)(i,1)[0],o=t.sort().map((function(e){return Object(Y.jsx)(R.a.Option,{children:e},e)})),l=n.sort().map((function(e){return Object(Y.jsx)(R.a.Option,{children:e},e)}));return Object(Y.jsxs)(J.a,{form:c,layout:"vertical",fields:[{name:["select-team"],value:r.byTeam},{name:["select-league"],value:r.byLeague},{name:["radio-match-date"],value:r.onlyOngoingMatches?"ongoing":r.onlyUpcomingMatches&&"upcoming"}],children:[Object(Y.jsx)(J.a.Item,{name:"select-team",label:"Select team(s)",children:Object(Y.jsx)(R.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select teams",onChange:function(e){return function(e){a(Object(u.a)(Object(u.a)({},r),{},{byTeam:Object(E.a)(e)}))}(e)},children:l})}),Object(Y.jsx)(J.a.Item,{name:"select-league",label:"Select league",children:Object(Y.jsx)(R.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Select league",onChange:function(e){return function(e){a(Object(u.a)(Object(u.a)({},r),{},{byLeague:Object(E.a)(e)}))}(e)},children:o})}),Object(Y.jsx)(J.a.Item,{name:"radio-match-date",label:"Match Date",children:Object(Y.jsxs)(B.a.Group,{buttonStyle:"solid",onChange:function(e){return function(e){var t="ongoing"===e.target.value,n="upcoming"===e.target.value;a(Object(u.a)(Object(u.a)({},r),{},{onlyOngoingMatches:t,onlyUpcomingMatches:n}))}(e)},children:[Object(Y.jsx)(B.a,{value:"ongoing",children:"Ongoing matches"}),Object(Y.jsx)(B.a,{value:"upcoming",children:"Upcoming matches"})]})}),Object(Y.jsx)(J.a.Item,{children:Object(Y.jsx)(N.a,{htmlType:"button",onClick:function(){c.resetFields(),a({byTeam:[],byLeague:[],onlyOngoingMatches:!1,onlyUpcomingMatches:!1})},children:"Reset"})})]})},G=function(e){var t=e.breakpoint,n=e.leagues,a=e.teams,r=e.setFilterOptions,i=e.filterOptions;return t?Object(Y.jsx)(P,{leagues:n,teams:a,setFilterOptions:r,filterOptions:i}):Object(Y.jsx)(z.a,{children:Object(Y.jsx)(z.a.Panel,{header:"Filter",children:Object(Y.jsx)(P,{leagues:n,teams:a,setFilterOptions:r,filterOptions:i})})})},V=function(){var e=Object(a.useContext)(D),t=y.a.useBreakpoint().md,n=Object(a.useState)({byTeam:[],byLeague:[],onlyOngoingMatches:!1,onlyUpcomingMatches:!1}),r=Object(s.a)(n,2),i=r[0],c=r[1],o=L(e.map((function(e){return[e.leftTeam,e.rightTeam]})).flat()),l=L(e.map((function(e){return e.league})));return Object(Y.jsxs)(v.a,{justify:"center",align:"middle",children:[Object(Y.jsx)(w.a,{span:t?6:20,offset:1,children:Object(Y.jsx)(G,{breakpoint:t,leagues:l,teams:o,setFilterOptions:c,filterOptions:i})}),Object(Y.jsx)(w.a,{span:12,offset:2,children:Object(Y.jsx)(S.b,{header:Object(Y.jsx)("h2",{children:"Upcoming and ongoing matches"}),pagination:{pageSize:4,showSizeChanger:!1,responsive:!0},dataSource:e.filter((function(e){return H(Object(u.a)({filterOptions:i},e))})),renderItem:function(e){return Object(Y.jsx)(S.b.Item,{children:Object(Y.jsx)(U,Object(u.a)({},e))})}})})]})},Z=function(){return Object(Y.jsxs)(x.d,{children:[Object(Y.jsx)(x.b,{path:"/",exact:!0,component:V}),Object(Y.jsx)(x.a,{to:"/"})]})},q="timestamp",K="parsedData";var Q=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){var e=localStorage.getItem(q);if(e){var t=h()(e),n=h()();if(h.a.duration(n.diff(t)).asHours()<1){var a=localStorage.getItem(K);if(a)return JSON.parse(a).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{date:h.a.utc(e.date)})}))}}return null}();e?r(e):fetch("api-result.json").then((function(e){return e.json()})).then((function(e){return e.parse.text["*"]})).then((function(e){var t,n=p(e);r(n),t=n,localStorage.setItem(K,JSON.stringify(t)),localStorage.setItem(q,h()().format())}))}),[]),Object(Y.jsxs)(l.a,{children:[Object(Y.jsx)(l.a.Header,{}),Object(Y.jsx)(l.a.Content,{children:Object(Y.jsx)(D.Provider,{value:n,children:Object(Y.jsx)(Z,{})})}),Object(Y.jsx)(l.a.Footer,{})]})};n(219);c.a.render(Object(Y.jsx)(r.a.StrictMode,{children:Object(Y.jsx)(o.a,{basename:"/r6s-matches-parser",children:Object(Y.jsx)(Q,{})})}),document.getElementById("root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.97c41dc6.chunk.js.map